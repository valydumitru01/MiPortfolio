<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.3, maximum-scale=1" />
    <meta name="author" content="Valentin Dumitru">
    <meta name="description" content="Valentin Dumitru's Portfolio">
    <meta name="keywords" content="Valentin Dumitru, Portfolio, Software Engineer, Engineering, Software">
    <link rel="icon" href="/media/page-icon.png" type="image/x-icon">


    <!-- Libraries   -->
    <link href="css/libraries/all.min.css"        rel="stylesheet">
    <link href="css/libraries/bootstrap.min.css"  rel="stylesheet"/>

    <script src="javascript/libraries/jquery.js"></script>
    <script src="javascript/libraries/bootstrap.bundle.min.js" defer></script>
    <script src="javascript/libraries/plotly-2.14.0.min.js"></script>


    <!-- Custom Scripts   -->
    <script src="javascript/graph_factory.js"></script>
    <script src="javascript/typing_effect.js"></script>


    <!-- Custom CSS  -->
    <link rel="stylesheet" href="css/main.css">

    <title>Valentin Dumitru's Portfolio</title>
</head>

<header>
    <div id="header">

    </div>
</header>

<body>
    <div id="body" style="z-index: 1;">

    </div>
</body>
<footer>
    <div id="footer">

    </div>
</footer>

<script>
    var url = new URL(window.location)
    var pageTitles = {}
    pageTitles['home'] = "Home"
    pageTitles['aboutme'] = "About Me"
    pageTitles['myexperience'] = "My Experience"
    pageTitles['myprojects'] = "My Projects"
    pageTitles['myskills'] = "My Skills"

    $("#header").load("components/nav.html")

    $("#footer").load("components/footer.html")
    loadPage()

    function goTo(where) {
        window.history.replaceState(where, "", url);

        $("#navbarNavDropdown").collapse('hide')
        window.scroll({
            top: 180
        });
        loadPage()

    }
    console.log(history.state)
    function loadPage() {
        if (history.state === null || history.state === undefined||history.state==="") {
            window.history.pushState("home", "", url)
            $("#body").empty()
            $("#body").load("components/pages/home.html", () => { $(".page-title").html("") })
        } else {
            $("#body").empty()
            $(".page-title").html("")
            $("#body").load("components/pages/" + history.state + ".html", () => { 
                if (history.state !== "home") 
                    $(".page-title").html(pageTitles[history.state])
                else
                    $(".page-title").hide();
            })
        }

        console.log(pageTitles[history.state])
        console.log(history.state)
    }

</script>

</html>